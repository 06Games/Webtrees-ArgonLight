/*! ********************************************
                Argon Light Theme
             Originally made by jchue
  Under the Internet Systems Consortium License
  https://github.com/jchue/argon-webtrees-theme

       Forked and maintained by Evan Galli
             Under the same licence
 https://github.com/06Games/Webtrees-ArgonLight
************************************************/

@use "sass:map";
@use "sass:color";

@import "bootstrap/scss/functions";
@import "config/theme-variables";
@import "config/bootstrap-overrides";
@import "bootstrap/scss/bootstrap";

body {
  min-width: map.get($grid-breakpoints, xs);
}

p {
  font-weight: $font-weight-light;
}

.navbar-brand,
.btn {
  text-transform: uppercase;
}

.wt-footers {
  text-align: center;
}

@media (min-width: 1200px) {
  .container {
    max-width: 75vw;
  }
}

.markdown p {
  white-space: pre-wrap;
}

caption {
  caption-side: top;
  padding-top: 0;
}

.dt-layout-table>div {
  overflow-x: auto;
}

.dt-column-order {
  margin: 0 $icon-link-gap;
}

[dir] table,
[dir] .table,
[dir] table.table.dataTable {
  @extend .table;
  @extend .table-bordered;
  font-size: $font-size-sm;

  thead,
  tfoot,
  th {
    background-color: $gray-100;
  }

  thead th {
    @extend .text-uppercase;
  }

  td,
  th {
    &:not(:first-of-type) {
      border-left: none;
    }

    &:not(:last-of-type) {
      border-right: none;
    }
  }

  &.table-sm {

    td,
    th {
      padding: $table-cell-padding-y-sm $table-cell-padding-x-sm;
    }
  }
}

input[type=text] {
  @extend .form-control;
}

.alert a {
  color: inherit;
}


// Login
.hideShowPassword-wrapper {
  display: flex !important; // Replace the default "block"
  @extend .input-group;

  .hideShowPassword-toggle {
    @extend .btn;
    @extend .btn-secondary;

    position: initial !important; // Replace the default "absolute"
    margin-top: 0 !important; // Replace the default "-21.5px"
  }
}

select {
  @extend .form-select;
}

.select2-container {
  .input-group>& {
    flex-basis: 0;
    flex-grow: 1;
    flex-shrink: 1;
  }

  // Form field
  .select2-selection--single {
    @extend .form-control;
    align-items: center;
    border: $input-border-width solid $input-border-color;
    height: auto;
    display: flex;

    // Main content
    .select2-selection__rendered {
      color: $input-color;
      flex-grow: 1;
    }

    // Arrow
    .select2-selection__arrow {
      flex-basis: content;
      position: static;

      b {
        left: auto;
      }
    }
  }
}

// Dropdown options
.select2-dropdown {
  border: none;
  box-shadow: $dropdown-box-shadow;

  // Search field
  .select2-search__field {
    @extend .form-control;
    padding: $input-padding-y $input-padding-x;

    &:focus {
      border-color: $input-focus-border-color;
    }
  }

  // Results list
  .select2-results {
    ul.select2-results__options {
      margin-bottom: 1rem;

      li:not(.loading-results):not([role=alert]) {
        @extend .dropdown-item;
      }

      li.select2-results__option--highlighted {
        background-color: $table-hover-bg;
      }

      li[aria-selected=true] {
        background-color: $dropdown-link-active-bg;
      }
    }
  }
}

.select2-selection,
.select2-container {
  .gallery {
    margin-right: 1rem;
  }
}

[dir] .table-sm {

  td,
  th,
  thead th,
  tbody th,
  tbody td {
    font-size: $font-size-xs;
  }
}

[dir] .table-bordered {

  td,
  th,
  thead th,
  tbody th,
  tbody td {
    border-right: $table-border-width solid $table-border-color;
  }
}

.sorting,
.sorting_asc,
.sorting_desc {
  background-clip: padding-box;
  cursor: pointer;
  position: relative;

  &::before,
  &::after {
    bottom: 1.2rem;
    display: block;
    position: absolute;

    .table-sm & {
      bottom: 0.9rem;
    }
  }

  &::before {
    content: "\2191";
  }

  &::after {
    content: "\2193";
  }
}

[dir="ltr"] .sorting,
[dir="ltr"] .sorting_asc,
[dir="ltr"] .sorting_desc {
  &::before {
    right: 0.85em;
  }

  &::after {
    right: 0.5em;
  }
}

[dir="rtl"] .sorting,
[dir="rtl"] .sorting_asc,
[dir="rtl"] .sorting_desc {
  &::before {
    left: 0.85em;
  }

  &::after {
    left: 0.5em;
  }
}

.sorting {

  &::before,
  &::after {
    opacity: 0.3;
  }

  // Icons in table header
  i {
    padding: 0 0.313rem;
    vertical-align: -0.094rem;
  }
}

.sorting_asc {
  &::before {
    opacity: 1;
  }

  &::after {
    opacity: 0.3;
  }
}

.sorting_desc {
  &::before {
    opacity: 0.3;
  }

  &::after {
    opacity: 1;
  }
}

/* Icons */

// Accordion toggles
[dir] .accordion-header {

  .wt-icon-collapse,
  .wt-icon-expand {
    display: none;
  }

  .accordion-button {
    &:focus {
      box-shadow: none;
    }

    &:not(.collapsed) {

      &,
      &:focus {
        border-color: #e7f1ff;
        box-shadow: inset 0 -1px 0 rgba(0, 0, 0, .125);
      }
    }
  }
}

// Spinner
[dir] .wt-ajax-load:empty {
  height: 2rem;

  &::before {
    content: '';
    position: absolute;
    left: 50%;

    @extend .spinner-border;
  }
}

.icon-minus {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 448 512' width='14' height='24'%3E%3Cpath fill='%23212529' d='M108 284c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h232c6.6 0 12 5.4 12 12v32c0 6.6-5.4 12-12 12H108zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z' class=''%3E%3C/path%3E%3C/svg%3E");
  vertical-align: middle;
}

.icon-plus {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 448 512' width='14' height='24'%3E%3Cpath fill='%23212529' d='M352 240v32c0 6.6-5.4 12-12 12h-88v88c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-88h-88c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h88v-88c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v88h88c6.6 0 12 5.4 12 12zm96-160v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-48 346V86c0-3.3-2.7-6-6-6H54c-3.3 0-6 2.7-6 6v340c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z' class=''%3E%3C/path%3E%3C/svg%3E");
  vertical-align: middle;
}

.icon-mypage {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 576 512' width='32' height='24'%3E%3Cpath fill='%23212529' d='M528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-352 96c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H86.4C74 384 64 375.4 64 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2zM512 312c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-64c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-64c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z'%3E%3C/path%3E%3C/svg%3E");
}

.icon-pedigree {
  content: url("../img/icon-pedigree.svg");
}

// Children column in individual and family lists
.icon-children {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='15' height='15' fill='%23525f7f'%3E%3Cpath d='M13,2V10H21A8,8 0 0,0 13,2M19.32,15.89C20.37,14.54 21,12.84 21,11H6.44L5.5,9H2V11H4.22C4.22,11 6.11,15.07 6.34,15.42C5.24,16 4.5,17.17 4.5,18.5A3.5,3.5 0 0,0 8,22C9.76,22 11.22,20.7 11.46,19H13.54C13.78,20.7 15.24,22 17,22A3.5,3.5 0 0,0 20.5,18.5C20.5,17.46 20.04,16.53 19.32,15.89M8,20A1.5,1.5 0 0,1 6.5,18.5A1.5,1.5 0 0,1 8,17A1.5,1.5 0 0,1 9.5,18.5A1.5,1.5 0 0,1 8,20M17,20A1.5,1.5 0 0,1 15.5,18.5A1.5,1.5 0 0,1 17,17A1.5,1.5 0 0,1 18.5,18.5A1.5,1.5 0 0,1 17,20Z'%3E%3C/path%3E%3C/svg%3E");
}

// Default individual
.icon-indis {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 448 512' width='24' height='27'%3E%3Cpath fill='%23212529' d='M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z'%3E%3C/path%3E%3C/svg%3E");
}

// Request new account
.icon-user_add {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 640 512' width='34' height='27'%3E%3Cpath fill='%23212529' d='M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z'%3E%3C/path%3E%3C/svg%3E");
}

.icon-edit_indi {
  content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' width='13.125' height='15'%3E%3Cpath fill='%23212529' d='M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z'%3E%3C/path%3E%3C/svg%3E");
}

// Small silhouettes
.icon-silhouette {
  mask-size: contain;
  mask-position: center;
  mask-repeat: no-repeat;
  display: block;
  width: 40px;
  height: 50px;
  mask-image: url("../img/silhouette-unknown.svg");
  background-color: #888;


  &.icon-silhouette-m {
    mask-image: url("../img/silhouette-man.svg");
    background-color: #579;
  }

  &.icon-silhouette-f {
    mask-image: url("../img/silhouette-woman.svg");
    background-color: #968;
  }
}

// Large silhouettes
.wt-individual-silhouette {
  content: url("../img/silhouette-unknown.svg");
  filter: contrast(5%);

  &.wt-individual-silhouette-m {
    content: url("../img/silhouette-man.svg");
  }

  &.wt-individual-silhouette-f {
    content: url("../img/silhouette-woman.svg");
  }
}


// Default MIME icon
.wt-mime {
  background: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 503.467 503.467'%3E%3Cpath d='M465.067 123.733v341.333c0 18.773-15.36 34.133-34.133 34.133h-358.4c-18.773 0-34.133-15.36-34.133-34.133V38.4c0-18.773 15.36-34.133 34.133-34.133H345.6V89.6c0 18.773 15.36 34.133 34.133 34.133h85.334z' fill='%23f2edda'/%3E%3Cpath d='M465.067 123.733h-85.333c-18.773 0-34.133-15.36-34.133-34.133V4.267l119.466 119.466z' fill='%23ffd0a1'/%3E%3Cpath d='M294.4 354.133c5.12 0 8.533-3.413 8.533-8.533 0-5.12-3.413-8.533-8.533-8.533s-8.533 3.413-8.533 8.533c0 5.12 3.413 8.533 8.533 8.533zm-42.667 0c5.12 0 8.533-3.413 8.533-8.533 0-5.12-3.413-8.533-8.533-8.533-5.12 0-8.533 3.413-8.533 8.533 0 5.12 3.413 8.533 8.533 8.533zm-42.666 0c5.12 0 8.533-3.413 8.533-8.533 0-5.12-3.413-8.533-8.533-8.533s-8.533 3.413-8.533 8.533c-.001 5.12 3.413 8.533 8.533 8.533z' fill='%23ff7474'/%3E%3Cpath d='M430.933 503.467h-358.4c-21.333 0-38.4-17.067-38.4-38.4V38.4C34.133 17.067 51.2 0 72.533 0H345.6c.853 0 2.56.853 3.413.853l85.333 85.333c1.707 1.707 1.707 4.267 0 5.973-1.707 1.707-4.267 1.707-5.973 0l-84.48-84.48H72.533c-16.213 0-29.867 13.653-29.867 29.867v426.667c0 16.213 13.653 29.867 29.867 29.867h358.4c16.213 0 29.867-13.653 29.867-29.867V127.147h-81.067c-21.333 0-38.4-17.067-38.4-38.4V46.08c0-2.56 1.707-4.267 4.267-4.267s4.267 1.707 4.267 4.267v42.667c0 16.213 13.653 29.867 29.867 29.867h85.333c2.56 0 4.267 1.707 4.267 4.267v341.333c-.001 22.186-17.067 39.253-38.401 39.253zM311.467 384c-2.56 0-4.267-1.707-4.267-4.267 0-2.56 1.707-4.267 4.267-4.267s12.8-.853 12.8-12.8v-25.6c0-.853 0-16.213 13.653-25.6-13.653-12.8-13.653-40.96-13.653-42.667v-8.533c0-11.947-11.093-12.8-12.8-12.8-2.56 0-4.267-1.707-4.267-4.267s1.707-4.267 4.267-4.267c7.68 0 21.333 4.267 21.333 21.333v8.533c0 8.533 2.56 32.427 14.507 39.253 1.707.853 2.56 2.56 2.56 3.413 0 .853-.853 3.413-2.56 3.413-14.507 7.68-14.507 21.333-14.507 22.187v25.6c0 17.069-13.653 21.336-21.333 21.336zM192 384c-7.68 0-21.333-4.267-21.333-21.333v-25.6c0-.853 0-14.507-14.507-22.187-1.707-.853-2.56-2.56-2.56-3.413 0-.853.853-3.413 2.56-3.413 11.947-5.973 14.507-29.867 14.507-39.253v-8.533c0-17.067 13.653-21.333 21.333-21.333 2.56 0 4.267 1.707 4.267 4.267s-1.707 4.267-4.267 4.267-12.8.853-12.8 12.8v8.533c0 1.707 0 29.013-13.653 42.667 13.653 10.24 13.653 24.747 13.653 25.6v25.6c0 11.947 11.093 12.8 12.8 12.8 2.56 0 4.267 1.707 4.267 4.267 0 2.557-1.707 4.264-4.267 4.264zm102.4-25.6c-6.827 0-12.8-5.973-12.8-12.8 0-6.827 5.973-12.8 12.8-12.8s12.8 5.973 12.8 12.8c0 6.827-5.973 12.8-12.8 12.8zm0-17.067c-2.56 0-4.267 1.707-4.267 4.267 0 2.56 1.707 4.267 4.267 4.267s4.267-1.707 4.267-4.267c0-2.56-1.707-4.267-4.267-4.267zM251.733 358.4c-6.827 0-12.8-5.973-12.8-12.8 0-6.827 5.973-12.8 12.8-12.8 6.827 0 12.8 5.973 12.8 12.8 0 6.827-5.973 12.8-12.8 12.8zm0-17.067c-2.56 0-4.267 1.707-4.267 4.267 0 2.56 1.707 4.267 4.267 4.267 2.56 0 4.267-1.707 4.267-4.267 0-2.56-1.707-4.267-4.267-4.267zM209.067 358.4c-6.827 0-12.8-5.973-12.8-12.8 0-6.827 5.973-12.8 12.8-12.8s12.8 5.973 12.8 12.8c0 6.827-5.974 12.8-12.8 12.8zm0-17.067c-2.56 0-4.267 1.707-4.267 4.267 0 2.56 1.707 4.267 4.267 4.267s4.267-1.707 4.267-4.267c-.001-2.56-1.707-4.267-4.267-4.267z' fill='%2351565f'/%3E%3C/svg%3E");
  display: inline-block;
  height: 3rem;
  width: 3rem;
}

// PDF icon
.wt-mime-application-pdf {
  background: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 503.467 503.467'%3E%3Cpath d='M465.067 123.733v341.333c0 18.773-15.36 34.133-34.133 34.133h-358.4c-18.773 0-34.133-15.36-34.133-34.133V38.4c0-18.773 15.36-34.133 34.133-34.133H345.6V89.6c0 18.773 15.36 34.133 34.133 34.133h85.334z' fill='%23f2edda'/%3E%3Cpath d='M465.067 123.733h-85.333c-18.773 0-34.133-15.36-34.133-34.133V4.267l119.466 119.466z' fill='%23ffd0a1'/%3E%3Cpath d='M224.427 346.453c-20.48 33.28-40.96 58.88-40.96 58.88-21.333 21.333-59.733 0-34.133-25.6 16.213-17.066 44.373-27.306 75.093-33.28zm44.373-120.32c4.267 17.92-4.267 45.227-17.92 73.387-16.213-33.28-24.747-65.707-24.747-73.387 0-17.066 35.84-27.306 42.667 0zm-17.92 73.387c6.827 13.653 14.507 28.16 23.893 40.107-16.213 1.707-34.133 3.413-50.347 7.68 8.534-15.36 18.774-31.574 26.454-47.787zm94.72 37.547c17.067 0 31.573 42.667-8.533 42.667-23.893 0-45.227-17.067-62.293-40.107 36.693-3.414 66.559-2.56 70.826-2.56z' fill='%23ff7474'/%3E%3Cpath d='M430.933 503.467h-358.4c-21.333 0-38.4-17.067-38.4-38.4V38.4C34.133 17.067 51.2 0 72.533 0H345.6c.853 0 2.56.853 3.413.853l85.333 85.333c1.707 1.707 1.707 4.267 0 5.973-1.707 1.707-4.267 1.707-5.973 0l-84.48-84.48H72.533c-16.213 0-29.867 13.653-29.867 29.867v426.667c0 16.213 13.653 29.867 29.867 29.867h358.4c16.213 0 29.867-13.653 29.867-29.867V127.147h-81.067c-21.333 0-38.4-17.067-38.4-38.4V46.08c0-2.56 1.707-4.267 4.267-4.267s4.267 1.707 4.267 4.267v42.667c0 16.213 13.653 29.867 29.867 29.867h85.333c2.56 0 4.267 1.707 4.267 4.267v341.333c-.001 22.186-17.067 39.253-38.401 39.253zm-268.8-85.334c-7.68 0-15.36-2.56-20.48-7.68-6.827-6.827-10.24-19.627 3.413-34.133 17.067-17.067 44.373-27.307 75.093-34.133 8.533-13.653 17.067-29.013 24.747-43.52-16.213-34.133-23.893-66.56-23.893-73.387 0-11.093 11.947-19.627 23.04-21.333 10.24-.853 23.893 3.413 28.16 19.627 5.12 18.773-4.267 46.08-17.067 74.24 5.973 11.947 12.8 24.747 21.333 35.84 26.453-2.56 50.347-2.56 66.56-2.56h1.707c11.947 0 21.333 14.507 21.333 27.307 0 6.827-2.56 12.8-6.827 17.067-5.12 5.12-12.8 6.827-23.04 6.827-25.6 0-46.933-17.067-64.853-40.107-15.36 1.707-30.72 3.413-45.227 6.827-19.627 30.72-38.4 55.467-40.107 58.027-6.825 8.531-15.358 11.091-23.892 11.091zm52.907-64.853c-25.6 5.973-48.64 15.36-62.293 29.867-8.533 8.533-9.387 16.213-3.413 22.187 6.827 6.827 22.187 7.68 31.573-2.56 0-.854 16.213-21.334 34.133-49.494zm68.267-10.24c15.36 18.773 34.133 32.427 53.76 32.427 7.68 0 13.653-1.707 17.067-5.12 3.413-3.413 4.267-7.68 4.267-10.24 0-9.387-6.827-18.773-12.8-18.773h-2.56c-14.508-.001-35.841-.001-59.734 1.706zm-32.427-34.133c-5.973 11.093-11.947 21.333-17.92 31.573 11.093-1.707 22.187-3.413 33.28-4.267-5.12-8.533-11.093-17.92-15.36-27.306zm-2.56-95.574h-2.56c-8.533.853-15.36 6.827-15.36 12.8 0 7.68 7.68 34.133 20.48 63.147 11.093-23.893 17.92-46.933 13.653-62.293-2.56-11.947-11.946-13.654-16.213-13.654z' fill='%2351565f'/%3E%3C/svg%3E");

}

@each $color, $value in $theme-colors {
  [dir] .btn-#{$color} {
    --bs-btn-hover-bg: #{color.adjust($value, $lightness: 5%)};
  }
}

[dir] .btn-link {
  padding: 0;
  font-weight: $font-weight-bold;
}

.btn:not(:last-child) {
  margin-right: 0.5rem;
}

// Fix Webtrees overriding link colors
a:hover,
.btn-link:hover,
.nav-link:hover {
  color: rgba(var(--#{$prefix}link-color-rgb), var(--#{$prefix}link-opacity, 1));
}

// Detail toggle button
.btn-text[data-bs-toggle="collapse"] {
  vertical-align: baseline;
}

.card {
  border-color: rgba($black, .05);

  .card-header {
    background-color: var(--#{$prefix}gray-200);
    font-weight: $font-weight-bold;

    &[id^=name-header-] {
      font-size: $font-size-lg;
    }
  }
}

@each $color, $value in $theme-colors {
  .badge.bg-#{$color} {
    @extend .text-bg-#{$color};
  }
}

[dir] body>header {
  background-color: $dark;
  box-shadow: 0 10px 20px rgba(50, 50, 93, .2);
  z-index: 1052;
  padding: 5px 0;

  .wt-header-container {
    padding: 5px 1rem;
    margin: 0;
    max-width: none;

    .wt-header-content {
      @extend .navbar;
      @extend .navbar-expand-#{$header-breakpoint};
      align-items: center;
      padding: 0.25rem 0.5rem;

      @if not $compact-header {
        flex-wrap: wrap;
      }

      &>.col {
        flex: 0 1 auto;
        padding: 0;
      }

      .wt-site-logo {
        @extend .navbar-toggler; // Btn to toggle menu on small screens
        display: none;
        flex-basis: 0;
        order: 99;

        &::after {
          @extend .navbar-toggler-icon;
          background-image: url("../img/bars-solid.svg");
        }
      }

      .wt-site-title {
        @extend .navbar-brand;
        order: 1;
        color: $white;
        flex-shrink: 0;
        flex-basis: content;
        font-size: 1.75rem;
        font-weight: 800;
        margin-bottom: 0;

        max-height: 3.25em;
        overflow: auto;
        white-space: normal;


        @if not $compact-header {
          flex-grow: 1;
        }

        @include media-breakpoint-up($header-breakpoint) {
          @if $compact-header {
            max-width: calc(100% - 35em);
          }

          @else {
            flex-basis: calc(100% - 30em - 15px);
          }

          max-height: 2.25em;
          line-height: 1;
          overflow: hidden;
        }

        @include media-breakpoint-down($header-breakpoint) {
          text-align: center;
          flex-grow: 1;
          margin: 0;
        }

        a {
          color: $white;

          &:hover {
            color: color.adjust($white, $lightness: -20%);
          }
        }
      }

      .wt-secondary-navigation {
        order: 2;

        @if $compact-header {
          flex-grow: 1;
        }

        @else {
          @include media-breakpoint-up($header-breakpoint) {
            flex-basis: 30em;

            .nav {
              justify-content: flex-end;
            }
          }
        }

        .menu-pending .nav-link::before {
          background-image: url("../img/shield-alt-solid.svg");
        }

        .menu-mymenu .nav-link::before {
          background-image: url("../img/user-solid.svg");
        }

        .menu-theme .nav-link::before {
          background-image: url("../img/palette-solid.svg");
        }

        .menu-language .nav-link::before {
          background-image: url("../img/language-solid.svg");
        }

        .menu-logout .nav-link::before {
          background-image: url("../img/sign-out-alt-solid.svg");
        }

        .menu-login .nav-link::before {
          background-image: url("../img/sign-in-alt-solid.svg");
        }
      }

      .wt-primary-navigation {
        order: 3;
        flex-grow: 1;

        @include media-breakpoint-up($header-breakpoint) {
          @if $compact-header {

            .nav {
              justify-content: flex-end;
            }
          }

          @else {
            flex-basis: 65%;
          }
        }

        .menu-tree .nav-link::before {
          background-image: url("../img/home-solid.svg");
        }

        .menu-chart .nav-link::before {
          background-image: url("../img/project-diagram-solid.svg");
        }

        .menu-list .nav-link::before,
        .menu-fancy-treeview .nav-link::before {
          background-image: url("../img/list-alt-regular.svg");
        }

        .menu-calendar .nav-link::before {
          background-image: url("../img/calendar-alt-solid.svg");
        }

        .menu-report .nav-link::before {
          background-image: url("../img/scroll-solid.svg");
        }

        .menu-search .nav-link::before {
          background-image: url("../img/search-solid.svg");
        }

        .menu-story .nav-link::before {
          background-image: url("../img/book-solid.svg");
        }

        .menu-faq .nav-link::before {
          background-image: url("../img/comments-solid.svg");
        }

        .menu-clippings .nav-link::before {
          background-image: url("../img/shopping-cart-solid.svg");
        }

        .jp-main-menu-manual .nav-link::before {
          background-image: url("../img/question-circle-solid.svg");
        }
      }

      .wt-header-search {
        @extend .ms-xxl-3;
        order: 4;
        flex-shrink: 0;

        @include media-breakpoint-up($header-breakpoint) {

          @if $compact-header {
            flex-basis: 13rem;
          }

          @else {
            flex-basis: 20rem;
          }
        }

        .input-group {
          &>.wt-header-search-field {
            padding: .375rem 0 .375rem .75rem;
            border-radius: .375rem 0 0 .375rem !important;
          }

          &>.wt-header-search-button {
            border-radius: 0 .375rem .375rem 0;
          }
        }
      }

      .nav {
        flex-direction: row;

        @include media-breakpoint-down($header-breakpoint) {
          justify-content: center;
        }

        &>.nav-item {
          &>.nav-link {
            font-size: 0.9rem;
            font-family: "Open Sans", sans-serif;
            font-weight: 400;
            letter-spacing: 0;
            transition: all 0.15s linear;

            color: $white;
            padding: 0.75rem 0.4rem;

            &:hover {
              color: color.adjust($white, $lightness: -20%);
            }

            &::before {
              content: "";
              display: inline-block;
              width: 1em;
              height: 1em;
              vertical-align: sub;
              background-repeat: no-repeat;
              background-position: center;
            }

            @include media-breakpoint-only(sm) {
              &::before {
                display: none;
              }
            }

            @include media-breakpoint-down(sm) {
              overflow: hidden;
              width: 2em;
              height: 2em;
              padding: 0;
              margin: 0.25em 1em 0.5em;

              &::before {
                width: 100%;
                height: 100%;
              }
            }

            @include media-breakpoint-up($header-breakpoint) {
              &.dropdown-toggle::after {
                margin-left: 0.05em;
              }
            }
          }
        }
      }
    }
  }
}

.wt-main-container {
  @extend .container;
  margin-top: 3rem;
}

#site-footer {
  background-color: $secondary;
  font-size: $font-size-sm;
  padding: 2.5rem 0;
  text-align: center;
}

/******
 * bootstrap
 */

.dropdown-menu {
  z-index: 2000;
}

.dropdown-header {
  color: #6c757d;
}

[dir] .dropdown-item {
  &.active:hover {
    // Reverts Webtrees custom colors
    background-color: var(--#{$prefix}dropdown-link-active-bg);
    color: var(--#{$prefix}dropdown-link-active-color);
  }
}

.modal {
  z-index: 1052;
}

.modal-header {
  align-items: center;
}

.list-group {
  a.list-group-item {
    border-right: none;
    border-left: none;
    border-radius: 0;
    font-size: $font-size-sm;
  }
}

.tab-content {
  padding-top: 0.5rem;
}

.d-flex.justify-content-between {
  align-items: center;
}

.pagination {
  margin-bottom: 0;
  gap: 5px;

  .page-link {

    border-radius: var(--#{$prefix}pagination-border-radius);
    width: 36px;
    height: 36px;

    // Hack for Pagination Arrows
    &.first,
    &[data-dt-idx="first"],
    &.previous,
    &[data-dt-idx="previous"],
    &.next,
    &[data-dt-idx="next"],
    &.last,
    &[data-dt-idx="last"] {
      visibility: hidden;

      &::after {
        @extend .page-link;
        visibility: visible;
        position: absolute;
        inset: 0;
        display: block;
        width: 36px;
        height: 36px;
        padding-right: 0;
        padding-left: 0;
        border-radius: 50%;
        color: $gray-600;
        font-weight: bold;
        text-align: center;
        line-height: 1.6rem;
      }
    }

    &.first::after,
    &[data-dt-idx="first"]::after {
      content: "\00AB";
    }

    &.previous::after,
    &[data-dt-idx="previous"]::after {
      content: "\2039";
    }

    &.next::after,
    &[data-dt-idx="next"]::after {
      content: "\203A";
    }

    &.last::after,
    &[data-dt-idx="last"]::after {
      content: "\00BB";
    }
  }
}

/*****
 * Webtrees
 */

// Preferred name
.starredname {
  text-decoration: underline;
}

/* Calendar Modals */

div[id^=caldiv] {
  border-radius: $dropdown-border-radius;
  box-shadow: $dropdown-box-shadow;
  padding: 1.25rem 1.375rem;

  table {
    border: none !important;
  }

  td,
  tbody td {
    border-bottom: none;
  }

  input,
  select {
    @extend .form-control-sm;
  }

  tr:first-child td {
    border-top: none;
  }

  table table {
    margin-top: 0.5rem;

    td {
      font-size: .875rem;
      height: 36px;
      text-align: center;
    }

    // Calendar days
    tr:not(:first-child) {
      td {
        background-color: transparent !important;
        border: none !important;
        border-radius: 50%;
        padding: 3px;
        transition: all .15s ease;
        width: 36px;

        a {
          color: $gray-500;
        }

        &.descriptionbox {
          background-color: $primary !important;

          a {
            color: $white;
          }
        }
      }
    }

    tr:first-child td,
    tr:not(:first-child) td.optionbox {
      color: $body-color;

      a {
        color: $body-color;
      }
    }
  }
}

.wt-sex-m {
  background-color: $m-background;
}

.wt-sex-f {
  background-color: $f-background;
}

.wt-sex-u {
  background-color: $u-background;
}

.wt-sex-x {
  background-color: $x-background;
}

.wt-icon-sex-m {
  color: $m-color;
}

.wt-icon-sex-f {
  color: $f-color;
}

.wt-icon-sex-u {
  color: $u-color;
}

.wt-icon-sex-x {
  color: $x-color;
}

[dir] .wt-new,
[dir] .wt-old {
  outline-style: solid;
  outline-width: 2px;
  outline-offset: -2px;
  padding: 5px;

  th {
    padding-left: 2.5rem;
  }

  th::before {
    font-size: 1.5rem;
    font-weight: bold;
    float: left;
    margin-left: -1.5rem;
    margin-top: -0.6rem;
  }

  &.wt-new th::before {
    content: "+";
  }

  &.wt-old th::before {
    content: "-";
  }

  @each $class in wt-new, wt-old {
    $color: map.get((wt-new: $teal,
          wt-old: $orange ), $class);

    &.#{$class} {
      outline-color: $color;

      th {
        background-color: color.mix(white, $color, 80%);

        &::before {
          color: $color;
        }
      }

      td {
        background-color: color.mix(white, $color, 90%);
      }
    }
  }
}

.label {
  font-weight: $font-weight-bold;
}

.indent {
  padding-left: 1rem;
}

// Keyboard
.wt-osk {
  box-shadow: $box-shadow;
  display: none;
  position: fixed;
  top: 1rem;
  z-index: 1000;
}

/* Maps (Pedigree Page, Place Hierarchy Page, Place Hierarhy Tab) */

.wt-places-tab-wrapper {
  border-radius: $border-radius;
  box-shadow: $box-shadow-sm;
}

.wt-places-tab-wrapper,
// Individual place tab
.wt-place-hierarchy-wrapper,
// Place list
.wt-pedigree-map-wrapper // Pedigree map

  {
  height: 70vh;

  &>[class^=col-],
  .wt-map,
  .wt-map-sidebar {
    @include media-breakpoint-up(sm) {
      height: 100%;
    }

    @include media-breakpoint-down(sm) {
      height: 50%;
    }
  }

  .wt-map-sidebar {
    padding: 0;
    overflow-y: auto;

    li.gchart {
      border-bottom: $border-width solid $border-color;
      font-size: $font-size-sm !important;
      padding: 1.5rem;

      .tab-pane & {
        font-size: $font-size-xs !important;
        padding: 1rem;
      }

      &:hover {
        cursor: pointer;
      }

      // Currently selected
      &.messagebox {
        background-color: $gray-100;
      }

      >div {
        margin-bottom: 0.625rem;
      }
    }
  }
}

.leaflet-popup {
  font-family: $font-family-base;
  font-size: $font-size-xs;

  a {
    color: $link-color;

    &:hover {
      color: $link-hover-color;
    }
  }

  .leaflet-popup-content-wrapper {
    border-radius: $border-radius;
    padding: 0.75rem 1rem;

    .leaflet-popup-content {
      margin: 0;

      div {
        margin-bottom: 0.5rem;
      }
    }
  }
}

.marker-cluster-small {
  background-color: rgba(181, 226, 140, .6);

  div {
    background-color: rgba(110, 204, 57, .6);
  }
}

.marker-cluster-medium {
  background-color: rgba(241, 211, 87, .6);

  div {
    background-color: rgba(240, 194, 12, .6);
  }
}

.marker-cluster-large {
  background-color: rgba(253, 156, 115, .6);

  div {
    background-color: rgba(241, 128, 23, .6);
  }
}

.leaflet-oldie {
  .marker-cluster-small {
    background-color: #b5e28c;

    div {
      background-color: #6ecc39;
    }
  }

  .marker-cluster-medium {
    background-color: #f1d357;

    div {
      background-color: #f0c20c;
    }
  }

  .marker-cluster-large {
    background-color: #fd9c73;

    div {
      background-color: #f18017;
    }
  }
}

.marker-cluster {
  background-clip: padding-box;
  border-radius: 20px;

  div {
    width: 30px;
    height: 30px;
    margin-left: 5px;
    margin-top: 5px;
    text-align: center;
    border-radius: 15px;
    font-size: 12px;
  }

  span {
    line-height: 30px;
  }
}

.leaflet-cluster-anim {

  .leaflet-marker-icon,
  .leaflet-marker-shadow {
    -webkit-transition: -webkit-transform 0.3s ease-out, opacity 0.3s ease-in;
    -moz-transition: -moz-transform 0.3s ease-out, opacity 0.3s ease-in;
    -o-transition: -o-transform 0.3s ease-out, opacity 0.3s ease-in;
    transition: transform 0.3s ease-out, opacity 0.3s ease-in;
  }
}

.leaflet-cluster-spider-leg {
  -webkit-transition: -webkit-stroke-dashoffset 0.3s ease-out, -webkit-stroke-opacity 0.3s ease-in;
  -moz-transition: -moz-stroke-dashoffset 0.3s ease-out, -moz-stroke-opacity 0.3s ease-in;
  -o-transition: -o-stroke-dashoffset 0.3s ease-out, -o-stroke-opacity 0.3s ease-in;
  transition: stroke-dashoffset 0.3s ease-out, stroke-opacity 0.3s ease-in;
}

/*****
 * Individual Page
 *****/

[dir] .img-thumbnail {
  text-align: center;
}

.wt-family-navigator-family .wt-family-navigator-label+td {
  background-color: inherit;
}

/* Families Tab */

.wt-chart-box-zoom-dropdown {
  font-size: $font-size-sm;

  div[class^=fact_] {
    padding: 0.5rem 1rem;
  }
}

/* Interactive Tree Tab */

.tv_out {
  -webkit-box-align: center;
  align-items: center;
  background-color: $white;
  border-radius: $border-radius;
  box-shadow: $box-shadow-sm;
  display: -webkit-box;
  display: flex;
  height: 50vh;
  -webkit-box-pack: center;
  justify-content: center;
  min-height: 25vh;
  max-height: 95vh;
  overflow: hidden;
  position: relative;
  resize: vertical;

  img {
    border: 0;
  }
}

#tvStylesSubmenu,
#tv_tools {
  display: inline-block;
  left: 0;
  margin: 0;
  padding: 0;
  position: absolute;
  top: 0;
  z-index: 90;

  [dir=ltr] {
    left: 0;
  }

  [dir=rtl] {
    right: 0;
  }
}

#tvStylesSubmenu {
  display: none;
  top: 0;
  z-index: 91;

  [dir=ltr] {
    left: 0;
  }

  [dir=rtl] {
    right: 0;
  }
}

#tv_tools {
  ul {
    list-style: none;
    margin: 0;
    padding: 0;

    li.tv_button {
      height: 1.5rem;
      margin: 0;
      padding: 0;
      position: relative;
      text-align: center;
      vertical-align: middle;
      width: 1.5rem;

      [dir=ltr] & {
        float: left;
      }

      [dir=rtl] & {
        float: right;
      }

      [dir] & {
        float: none;
      }

      &:hover {
        cursor: pointer;
      }

      a {
        display: block;
        margin: 0;
      }
    }

    li img {
      border: none;
      cursor: pointer;
      height: 1.5rem;
      margin: 0;
      padding: 0;
      text-align: center;
      vertical-align: middle;
      width: 1.5rem;
    }

    li a.help img.icon {
      height: 1rem;
      margin: 0.188rem 0 0;
      padding: 0;
      width: 1rem;
    }
  }
}

#tvbCompact {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAAAYFBMVEX///8ebbHNz8wAAAAaZqkib7Eca64fa64eba4kcLEkcLMZaKoZaKwVY6UaaKwfbbEQXqAebbAaaKofba4baKoZaqwhbq8hb7Eib7Acaqwcaq4daqwmcrMpdbYVZKcZZqmjvWxQAAAAAXRSTlMAQObYZgAAAHVJREFUeF51z0cOA0EIRNGCyc45h/vf0hKoUbXR/F09sQFzvaW0YH5BPVQ8xriO/Wb5WTs/AKjx1kCcz67qELySiDglshPkyCRqK4ZawOGPbahWvEfJ3in1UA9fUPcYLfNzuNy6qTsOJ+YGPFizN6m5a/I8cj9MEgMLAHk6jAAAAABJRU5ErkJggg==");
  background-position: center;
  background-repeat: no-repeat;
}


#tvToolsHandler {
  border: thin inset #f6f6f6;
  cursor: move;
  height: 1.5rem;
  margin: 0.125rem;
  overflow: hidden;
  width: 0.125rem;

  [dir=ltr] & {
    float: left;
  }

  [dir=rtl] {
    float: right;
  }

  &:hover {
    border: thin outset #f6f6f6;
  }
}

.tv_in {
  display: inline-block;
  clear: both;
  cursor: move;
}

#tv_tree,
table#tvTreeBorder td,
table#tvTreeBorder td#tv_tree_top,
table#tvTreeBorder td#tv_tree_topleft,
table#tvTreeBorder td#tv_tree_bottom,
table#tvTreeBorder td#tv_tree_bottomleft,
table#tvTreeBorder td#tv_tree_bottomright,
table#tvTreeBorder td#tv_tree_left,
table#tvTreeBorder td#tv_tree_right,
table#tvTreeBorder td#tv_tree_topright {
  background: none;
}

table.tv_tree {

  td,
  tbody td {
    border: none;
    padding: 0;
  }

  td.tv_vline {
    background: repeat-x 50% 50%;
    height: 100%;
    width: 1px;
  }

  td.tv_vline_b {
    background-image: url("data:image/gif;base64,R0lGODlhAQDECaEDAICpyYGpzIKry////yH5BAEKAAMALAAAAAABAOIEAAIjjI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNcbIBQAOw==");
    vertical-align: top;
  }

  td.tv_vline_c,
  td.tv_vline_h {
    vertical-align: middle;
  }

  td.tv_vline_c {
    height: 1px;
  }

  td.tv_vline_h {
    background-image: url("data:image/gif;base64,R0lGODdhAQDiBIABAIGpzP///ywAAAAAAQDiBAACIoSPqcvtD6OctNqLs968+w+G4kiW5omm6sq27gvH8kzXXQEAOw==");
  }

  td.tv_vline_t {
    background-image: url("data:image/gif;base64,R0lGODlhAQDECeMKAIGoyX6py4GpzISpxn6qz3+qzYGqyoOqy4CrzYKry////////////////////////yH5BAEKAA8ALAAA4gQBAOIEAAQwUMhJq7046827/2AojmRpnmiqrmzrvnAsz3Rt33iu73zv/8Bgp1AYDAgEQwJwCCAiADs=");
    vertical-align: bottom;
  }

  div.tv_hline,
  td.tv_hline {
    overflow: hidden;
    width: 8px;
  }

  div.tv_hline,
  div.tv_vline {
    background-color: $table-border-color;
  }

  div.tv_hline {
    height: 1px;
  }

  div.tv_vline {
    width: 1px;
  }

  div.tv_vline_b,
  div.tv_vline_t {
    height: 50%;
  }

  div.tv_vline_c {
    height: 1px;
    overflow: hidden;
  }

  div.tv_vline_h {
    height: 100%;
  }

  .tv_box {
    background: $white;
    border-radius: $border-radius;
    box-shadow: $box-shadow-xs;
    cursor: help;
    font-size: $font-size-xs;
    margin-bottom: 0.625rem;
    padding: 0;
    text-align: left;
    width: 11.25rem;

    .tvSexSymbol {
      font-family: x-large, serif;
      font-weight: 700;
      margin: 0.063rem;
      vertical-align: top;
    }

    img {
      max-height: 3.125rem;
      max-width: 5rem;
      width: auto;

      [dir=ltr] & {
        float: left;
        margin-right: 0.625rem;
      }

      [dir=rtl] & {
        float: right;
        margin-left: 0.625rem;
      }
    }

    img.tv_box_loading {
      height: 0.078rem;
      margin: 0.125rem;
      width: 0.75rem;

      [dir=ltr] & {
        float: right;
      }

      [dir=rtl] & {
        float: left;
      }
    }

    img.tv_treelink {
      height: 1rem;
      width: 1rem;

      [dir=ltr] & {
        float: right;
      }

      [dir=rtl] & {
        float: left;
      }
    }

    .tvSexSymbol {
      font-family: x-large, serif;
      font-weight: 700;
      margin: 0.063rem;
      vertical-align: top;
    }

    .tvF,
    .tvM,
    .tvU {
      padding: 0.313rem 0.625rem;
    }

    .tvM {
      background-color: $m-background;
    }

    .tvF {
      background-color: $f-background;
    }

    .icon-silhouette {
      [dir=ltr] {
        float: left;
      }

      [dir=rtl] {
        float: right;
      }
    }
  }

  .boxExpanded {
    width: 15.625rem;

    .tv_person_expanded {
      min-height: 3.438rem;
      padding: 0.5rem 0.75rem;
      overflow: auto;

      a {
        font-weight: 700;
      }
    }
  }

  i.dates {
    float: right;
    font-size: 75%;
    margin-left: 0.25rem;

    [dir=rtl] & {
      float: left;
      margin-right: 0.25rem;
    }
  }
}

/* Stories Tab */

.story:not(:last-child) {
  border-bottom: 1px solid $border-color;
}

/* Album Tab  */

.wt-album-tab-caption {
  font-size: $font-size-xs;
}

/* Descendants Sidebar */

#sb_desc_content {
  font-size: $font-size-sm;

  ul {
    line-height: $line-height-base;
    padding-left: 0;

    ul {
      padding-left: 1rem;
    }

    .sb_desc_indi_li {
      list-style-type: none;
    }
  }
}

/* Extra Info Sidebar */

#sidebar-content-extra_info {
  font-size: $font-size-sm;
}

/*****
 * User Page
 */

.wt-block-content-todo .wt-table-tasks {
// Override Webtree
  table-layout: auto !important;

  thead th {
    width: auto !important;
  }
}

.wt-block-content-gedcom_news {
  .news_box {

    padding-bottom: 1em;
    border-bottom: 1px solid $light;

    &:not(:last-of-type) {
      margin-bottom: 2em;
    }

    &:last-of-type {
      margin-bottom: 1em;
    }

    .news_title {
      font-size: 1.15em;
    }

    .news_date {
      font-size: 0.9em;
    }

    &>.news_date~[dir] {
      margin: 1em 0 1em 1em;
    }

    &>hr {
      display: none;
    }
  }
}

.wt-block-content-user_messages {
  label {
    display: block;
  }

  select#to {
    width: 85%;
  }

  select#to+button {
    margin: 0 !important;
    padding-right: 0 !important;
    padding-left: 0 !important;
    width: 15%;
  }

  .list_label:first-child {
    text-align: center;
  }

  .center {
    left: auto;
    text-align: center;
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }
}

/*
* Charts
*/

.wt-chart {
  overflow-x: auto;
  overflow-y: hidden;
}

//Compact the options of the charts
.wt-page-options .form-group {
  margin-bottom: 0.25rem;
}

// Also includes Family page (since it utilizes many of the same components but lacks a chart wrapper class)
.wt-block-gedcom_favorites,
.wt-block-content-user_favorites,
.wt-family-members,
.wt-chart-relationships,
.wt-chart-ancestors,
.wt-chart-descendants,
.wt-chart-pedigree,
.wt-chart-family-book,
.wt-chart-hourglass {
  .wt-chart-box {
    border-radius: $border-radius;
    box-shadow: $box-shadow-xs;
  }
}

.wt-tab-relatives,
.wt-block-gedcom_favorites,
.wt-block-content-user_favorites,
.wt-family-members,
.wt-chart-relationships,
.wt-chart-ancestors,
.wt-chart-descendants,
.wt-chart-pedigree,
.wt-chart-family-book,
.wt-chart-hourglass {
  td {
    border-bottom: none;
  }

  tr:first-child td {
    border-top: none;
  }

  .wt-chart-box {
    background: var(--white);
    font-size: $font-size-xs;
    margin-bottom: 0.125rem;
    margin-top: 0.125rem;
    padding: 0.5rem 0.625rem;

    .wt-chart-box-thumbnail img {
      border-radius: 5px;
    }

    .wt-chart-box-name,
    .wt-chart-box-lifespan,
    .wt-chart-box-facts {
      margin-left: 50px;
    }

    .wt-chart-box-name {
      font-size: 1.1em;
    }

    .wt-chart-box-extra {
      display: grid;
      grid-auto-columns: 15px;
      grid-auto-flow: column;
      gap: 2px;

      * {
        max-width: 100%;
      }
    }
  }

  .wt-chart-box-icon {
    font-size: 1rem;
    vertical-align: middle;

    &>i {
      height: 1rem;
    }
  }


  .wt-chart-box-f {
    background-color: $f-background;
  }

  .wt-chart-box-m {
    background-color: $m-background;
  }

  .wt-chart-box-u {
    background-color: $u-background;
  }

  .wt-chart-box-x {
    background-color: $x-background;
  }

  .wt-chart-box-zoom-dropdown {
    border: none;
    color: $dark;
    font-size: $font-size-sm;
    //line-height: $line-height-smallest;
    padding: 0.625rem;
  }

  .wt-chart-horizontal-spacer {
    width: 1rem;
  }

  .wt-chart-horizontal-line {
    border-bottom: $border-width solid $border-color;
    height: 50%;
    width: 1rem;
  }

  .wt-chart-horizontal-first-child {
    border-top: $border-width solid $border-color;
    height: 50%;
    position: relative;
    top: 50%;

    [dir=ltr] & {
      border-right: $border-width solid $border-color;
      border-radius: 0 $border-radius 0 0;
    }

    [dir=rtl] & {
      border-left: $border-width solid $border-color;
      border-radius: $border-radius 0 0 0;
    }
  }

  .wt-chart-horizontal-middle-child {
    height: 100%;

    [dir=ltr] & {
      border-right: $border-width solid $border-color;
    }

    [dir=rtl] & {
      border-left: $border-width solid $border-color;
    }
  }

  .wt-chart-horizontal-last-child {
    border-bottom: $border-width solid $border-color;
    height: 50%;

    [dir=ltr] & {
      border-right: $border-width solid $border-color;
      border-radius: 0 0 $border-radius 0;
    }

    [dir=rtl] & {
      border-left: $border-width solid $border-color;
      border-radius: 0 0 0 $border-radius;
    }
  }

  .wt-chart-horizontal-first-parent {
    border-top: $border-width solid $border-color;
    height: 50%;
    position: relative;
    top: 50%;

    [dir=ltr] & {
      border-left: $border-width solid $border-color;
      border-radius: $border-radius 0 0 0;
    }

    [dir=rtl] & {
      border-right: $border-width solid $border-color;
      border-radius: 0 $border-radius 0 0;
    }
  }

  .wt-chart-horizontal-last-parent {
    border-bottom: $border-width solid $border-color;
    height: 50%;

    [dir=ltr] & {
      border-left: $border-width solid $border-color;
      border-radius: 0 0 0 $border-radius;
    }

    [dir=rtl] & {
      border-right: $border-width solid $border-color;
      border-radius: 0 0 $border-radius 0;
    }
  }
}

/* Relationship Tree */

.wt-relationship-chart {
  table {
    width: auto;
  }
}

/* Compact Tree */

.wt-chart-compact {
  table {
    border-collapse: separate;
  }

  .wt-chart-box {
    height: 5rem;
    width: 9.375rem;
  }

  .wt-chart-box-extra,
  .wt-chart-box-facts,
  .wt-chart-box-thumbnail {
    display: none
  }
}

/* Ancestors and Descendants Charts */

.wt-chart-ancestors,
.wt-chart-descendants {
  .wt-chart-box {
    font-size: $font-size-sm;
    margin-bottom: 0.313rem;
    margin-top: 0.313rem;
    min-height: 5rem;
    width: 20rem;
  }

  .wt-chart-box-lifespan {
    display: none
  }

  .wt-chart-vertical-indent {
    width: 2rem;
  }

  .wt-chart-vertical-line {
    height: 100%;
    width: 50%;

    [dir=ltr] & {
      border-left: $border-width solid $border-color;
      right: 0;
    }

    [dir=rtl] & {
      border-right: $border-width solid $border-color;
      left: 0;
    }
  }

  .wt-chart-vertical-child-line {
    border-bottom: thin solid $border-color;
    height: 1.5rem;
    top: 0;
    width: 50%;

    [dir=ltr] & {
      right: 0;
    }

    [dir=rtl] & {
      left: 0;
    }
  }

  .wt-chart-vertical-last-child-line {
    border-bottom: $border-width solid $border-color;
    height: 1.5rem;
    top: 0;
    width: 50%;

    [dir=ltr] & {
      border-left: $border-width solid $border-color;
      border-radius: 0 0 0 $border-radius;
      right: 0;
    }

    [dir=rtl] & {
      border-right: $border-width solid $border-color;
      border-radius: 0 0 $border-radius 0;
      left: 0;
    }
  }

  .wt-sosa-number,
  .wt-daboville-number {
    border: $border-width dotted $border-color;
    font-size: $font-size-sm;
    margin: 0 0.625rem;
    padding: 0.313rem 0.625rem;
  }

  .chart-expand {
    display: none;
  }

  .collapsed {
    .chart-collapse {
      display: none;
    }

    .chart-expand {
      display: inline;
    }
  }
}

/* Family Book Chart */

.wt-chart-family-book {
  .wt-chart-box {
    width: 15rem;
  }

  .wt-chart-box-lifespan {
    display: none;
  }

  .wt-family-break {
    page-break-before: always;
  }
}

/* Fan Chart */

.fan_chart_menu {
  @extend .dropdown-menu;
}

/* Hourglass Chart */

.wt-chart-hourglass {
  overflow-y: auto;

  .wt-chart-box {
    margin-top: 0.625rem;
    margin-bottom: 0.625rem;
    width: 15rem;
  }

  .wt-chart-box-lifespan {
    display: none;
  }
}

/* Lifespans Chart */

.wt-timeline-chart {

  // Timeline markers
  .wt-lifespans-decade {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAlBAMAAAANYIJDAAAAGHRFWHRTb2Z0d2FyZQBwYWludC5uZXQgNC4wLjVlhTJlAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAAD1BMVEUAAAAAAABHcEw2NjYAAADzBAk1AAAABHRSTlPT1wDTEG7QNgAAAElJREFUOMtjEFIiBBQYBlQNI03VAEWVUSgFIGWIoBgQojgpBgwDUM1hJMscit2jgM9ZVHOPC2Ew6NTQM3yGaPqhZx4kXc3AllEANjazI4q82bEAAAAASUVORK5CYII=");
    background-position-y: bottom;
    background-repeat: no-repeat;
    background-size: 70px 37px;
    display: inline-block;
    height: 3.75rem;
    width: 4.375rem;
  }

  // Lifespans
  .wt-lifespans-individual {
    border-radius: $border-radius;
    box-shadow: $box-shadow-xs;
    font-size: $font-size-sm;
    margin-top: 1rem;
    padding: 0.313rem 0.625rem;
  }

  // Popup
  .wt-lifespans-summary {
    background-color: #fff;
    border-radius: $dropdown-border-radius;
    box-shadow: $dropdown-box-shadow;
    font-size: $font-size-sm;
    padding: 0.625rem 1rem;
    z-index: 1;
  }
}

/* Pedigree Chart */

.wt-chart-pedigree {
  overflow-y: auto;

  .wt-chart-box-lifespan {
    display: none;
  }

  .wt-chart-pedigree-left,
  .wt-chart-pedigree-right {
    .wt-chart-box {
      margin-bottom: 1.5rem;
      min-height: 5rem;
      width: 15rem;
    }
  }

  .wt-chart-pedigree-right {
    .wt-chart-box {
      margin-right: 1.5rem;
    }

    .wt-pedigree-lines {
      border: $border-width solid $border-color;
      bottom: 25%;
      height: 50%;
      top: 25%;
      width: 25%;
      z-index: -1;

      [dir=ltr] & {
        border-right: none;
        border-radius: $border-radius 0 0 $border-radius;
        right: 0;
      }

      [dir=rtl] & {
        border-left: none;
        border-radius: 0 $border-radius $border-radius 0;
        left: 0;
      }
    }

    .wt-generation-rev-2>.wt-pedigree-lines {
      bottom: 12.5%;
      height: 75%;
      top: 12.5%;
    }
  }

  .wt-chart-pedigree-left {
    .wt-chart-box {
      margin-left: 1.5rem;
    }

    .wt-pedigree-lines {
      border: $border-width solid $border-color;
      top: 25%;
      bottom: 25%;
      width: 25%;
      height: 50%;
      z-index: -1;

      [dir=ltr] & {
        border-left: none;
        border-radius: 0 $border-radius $border-radius 0;
        left: 0;
      }

      [dir=rtl] & {
        border-right: none;
        border-radius: $border-radius 0 0 $border-radius;
        right: 0;
      }
    }

    .wt-generation-rev-2>.wt-pedigree-lines {
      bottom: 12.5%;
      height: 75%;
      top: 12.5%;
    }
  }

  .wt-chart-pedigree-down,
  .wt-chart-pedigree-up {
    .wt-chart-box {
      height: 8rem;
      margin-right: 1.5rem;
      min-width: 10rem;
    }
  }

  .wt-chart-pedigree-down {
    width: -webkit-max-content;
    width: -moz-max-content;
    width: max-content;

    .wt-chart-box {
      margin-bottom: 1.5rem;
    }

    .wt-pedigree-lines {
      border: $border-width solid $border-color;
      border-bottom: none;
      border-radius: $border-radius $border-radius 0 0;
      bottom: 0;
      height: 25%;
      left: 25%;
      right: 25%;
      width: 50%;
      z-index: -1;
    }

    .wt-generation-rev-2>.wt-pedigree-lines {
      left: 12.5%;
      right: 12.5%;
      width: 75%;
    }
  }

  .wt-chart-pedigree-up {
    width: -webkit-max-content;
    width: -moz-max-content;
    width: max-content;

    .wt-chart-box {
      margin-top: 1.5rem;
    }

    .wt-pedigree-lines {
      border: $border-width solid $border-color;
      border-top: none;
      border-radius: 0 0 $border-radius $border-radius;
      height: 25%;
      left: 25%;
      right: 25%;
      top: 0;
      width: 50%;
      z-index: -1;
    }

    .wt-generation-rev-2>.wt-pedigree-lines {
      left: 12.5%;
      right: 12.5%;
      width: 75%;
    }
  }
}

/* Relationships Chart */

.wt-chart-relationships {

  table tbody tr td,
  table tbody tr:first-child td,
  table tbody tr td:first-child {
    border: none;
  }

  .wt-chart-box {
    width: 20rem;
    min-height: 5rem;
    border-radius: 5px;

    .wt-chart-box-lifespan {
      display: none;
    }
  }

  .hline-text,
  .vline-text {
    font-size: $font-size-xs;
  }
}

/* Timeline Chart */

.wt-route-timeline-chart {

  // Person panels
  div[class*=person] {
    font-size: $font-size-sm;
    padding: 0.625rem 1rem;
  }

  .person0 {
    background-color: $primary;
    color: $white;

    a {
      color: $white;

      &:hover {
        color: color.adjust($white, $lightness: -20%);
      }
    }
  }

  .person1 {
    background-color: $secondary;
    color: $body-color;

    a {
      color: $body-color;

      &:hover {
        color: color.adjust($body-color, $lightness: -20%);
      }
    }
  }

  .person2 {
    background-color: theme-color("info");
    color: $white;

    a {
      color: $white;

      &:hover {
        color: color.adjust($white, $lightness: -20%);
      }
    }
  }

  .person3 {
    background-color: theme-color("success");
    color: $white;

    a {
      color: $white;

      &:hover {
        color: color.adjust($white, $lightness: -20%);
      }
    }
  }

  .person4 {
    background-color: theme-color("danger");
    color: $white;

    a {
      color: $white;

      &:hover {
        color: color.adjust($white, $lightness: -20%);
      }
    }
  }

  .person5 {
    background-color: theme-color("warning");
    color: $white;

    a {
      color: $white;

      &:hover {
        color: color.adjust($white, $lightness: -20%);
      }
    }
  }
}

.wt-timeline-chart {
  overflow-x: auto;
  overflow-y: hidden;

  #timeline_chart {
    position: relative;
    top: 0;

    [dir=ltr] & {
      left: 0;
    }

    [dir=rtl] & {
      right: 0;
    }

    td[class^=person] {
      font-size: $font-size-xs;
      padding: 0 0.5rem;
    }
  }
}

/* FAQ */

.faq_list {
  margin-bottom: $hr-margin-y;
}

.faq {
  border-top: $border-width solid $border-color;
  margin-bottom: $hr-margin-y;
  padding-top: $hr-margin-y;

  *:last-child {
    margin-bottom: 0;
  }

  .faq_title {
    align-items: center;
    display: flex;
    margin-top: -6.875rem; // Fixed header offset
    padding-top: 6.875rem; // Fixed header offset

    h3 {
      flex-grow: 1;
    }

    .faq_top {
      flex-basis: content;
      font-size: $font-size-base;
      font-weight: normal;
    }
  }

  .faq_body {
    margin-bottom: $hr-margin-y;
  }
}

/* Place Hierarchy */

#place-hierarchy {
  .wt-page-options-value {
    font-size: $font-size-sm;
  }
}

/* Calendar */

.wt-route-calendar {

  // Weekday labels
  .wt-page-options-label {
    padding-top: 0.625rem;
    padding-bottom: 0.625rem;
  }

  // Calendar days
  .wt-page-options-value>div {
    height: 6.25rem !important;
  }

  // Calendar days
  .wt-page-options-value>ul {
    margin-bottom: 0;

    li:not(:last-child) {
      margin-bottom: 1rem;
    }
  }
}

/* ColorBox */

#cboxLoadingGraphic,
#cboxLoadingOverlay {
  height: 100%;
  position: absolute;
  width: 100%;
}

[dir] #cboxLoadingGraphic {
  background: url("data:image/gif;base64,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") no-repeat 50%;
}

#cboxOverlay,
#colorbox {
  z-index: 9999;
}

[dir] #cboxContent,
[dir] #cboxOverlay {
  background: $white;
}

#cboxOverlay {
  height: 100%;
  position: fixed;
  width: 100%;
}

#cboxContent {
  background-color: $popover-bg;
  box-sizing: content-box;
  height: auto !important;
  overflow: hidden;
  position: relative;

  [dir] & {
    border-radius: $popover-border-radius;
    box-shadow: $popover-box-shadow;
    padding: 1rem;
  }
}

.cboxPhoto {
  display: block;

  [dir] & {
    margin: auto;
  }
}

[dir] #cboxError {
  border: $border-radius solid $border-color;
  padding: 3.125rem;
}

#cboxTitle {
  font-size: $font-size-sm;
  padding: 0.25rem 0;

  [dir=ltr] & {
    margin: 0 2rem 0 5.5rem;
  }

  [dir=rtl] & {
    margin: 0 5.5rem 0 2rem;
  }
}

#cboxClose,
#cboxNext,
#cboxPrevious,
#cboxSlideshow {
  overflow: visible;
  position: absolute;

  [dir] & {
    @extend .btn;
    @extend .btn-dark;
    @extend .btn-sm;
    position: absolute;

    &:not(:last-child) {
      margin-right: 0;
    }
  }
}

#cboxNext,
#cboxPrevious,
#cboxSlideshow {
  bottom: 1rem;
}

#cboxSlideshow {
  [dir=ltr] & {
    right: 1rem;
  }

  [dir=rtl] & {
    left: 1rem;
  }
}

#cboxPrevious {
  [dir=ltr] & {
    left: 1rem;
  }

  [dir=rtl] & {
    right: 1rem;
  }
}

#cboxNext {
  [dir=ltr] & {
    left: 3.25rem;
  }

  [dir=rtl] & {
    right: 3.25rem;
  }
}

#cboxClose {
  top: 1rem;

  [dir=ltr] & {
    right: 1rem;
  }

  [dir=rtl] & {
    left: 1rem;
  }
}

/* Twitter Typahead */

.twitter-typeahead {
  width: 100%;

  .input-group & {
    display: block !important;

    .tt-dropdown-menu {
      top: 2rem !important;
    }
  }

  .input-group.input-group-lg & {
    .tt-dropdown-menu {
      top: 2.75rem !important;
    }
  }

  .input-group.input-group-sm & {
    .tt-dropdown-menu {
      top: 1.75rem !important;
    }
  }

  .input-group>& {
    flex-basis: 0;
    flex-grow: 1;
    flex-shrink: 1;
  }

  // Override no left border or padding when not-first-child form controls
  .tt-hint+.tt-input {
    border-left: $input-border-width solid $input-border-color !important;
    padding-left: $input-padding-x !important;
  }

  .tt-dropdown-menu,
  .tt-menu {
    @extend .dropdown-menu;
    display: none;
    float: left;
    left: 0;
    min-width: 10rem;
    position: absolute;
    top: 100%;

    .tt-dataset {
      .tt-suggestion {
        @extend .dropdown-item;

        &:hover,
        &.tt-cursor {
          @extend .dropdown-item, :hover;
          cursor: pointer;
        }
      }
    }
  }

  .active.tt-suggestion {
    @extend .dropdown-item, .active;
  }


  .disabled.tt-suggestion {
    @extend .dropdown-item, .disabled;
  }
}